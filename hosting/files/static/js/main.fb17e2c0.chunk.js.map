{"version":3,"sources":["components/Navigation.js","components/SideMenu.js","components/ProtectedRoute.js","helpers.js","components/Products.js","content/Pages.js","content/Cart.js","content/Products.js","content/Product.js","content/Profile.js","App.js","registerServiceWorker.js","index.js"],"names":["NavbarTop","children","className","NavBarBrand","href","src","to","alt","NavItem","link","title","icon","badge","exact","activeStyle","fontWeight","style","marginRight","NavBarNav","id","NavBarToggler","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","SideMenu","items","map","item","key","SideMenuItem","color","ProtectedRoute","Component","component","stitchClient","rest","render","routeProps","auth","isLoggedIn","pathname","state","from","location","USDFormatter","Intl","NumberFormat","currency","minimumFractionDigits","DateFormatter","DateTimeFormat","year","month","day","ProductDeck","products","handleAddToCart","product","i","elms","push","ProductCard","maxWidth","image","large","name","overview","price","format","Home","personalized_recs","length","marginTop","Login","props","redirectToReferrer","this","hasRedirectResult","handleRedirectResult","catch","console","error","log","setState","window","protocol","host","onClick","credential","GoogleRedirectCredential","loginWithRedirect","version","xmlns","width","height","viewBox","fill","d","CartItem","handleUpdateCartItem","thumb","value","quantity","onChange","e","parseInt","target","Cart","cart","handleCheckout","history","totalPrice","ProductsPage","db","collection","find","category","match","params","toArray","then","err","getProducts","prevProps","prevState","snapshot","ProductPage","notifying","findOne","Boolean","notify","element","handleBrowsedProduct","getProduct","_id","inventory","isInStock","htmlFor","handleProductNotification","Object","keys","toString","OrderItem","OrderTotal","reduce","sum","ProfilePage","orders","userInfo","sort","a","b","date_created","firstname","lastname","email","phone","address","city","zip","order","status","menuItems","App","authData","totalQuantity","browsed_products","bind","callFunction","productId","users","updateOne","user_id","user","$addToSet","date_visited","Date","isAuthenticated","first_name","logout","reload","path","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","Stitch","initializeDefaultAppClient","mongodb","getServiceClient","RemoteMongoClient","factory","ReactDOM","document","getElementById","URL","process","origin","addEventListener","fetch","response","headers","get","indexOf","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.fb17e2c0.chunk.js","sourcesContent":["import React from 'react'\nimport './Navigation.css'\nimport { NavLink, Link } from 'react-router-dom'\n\nexport const NavbarTop = ({ children }) => (\n  <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark navbar-fixed-top\">\n    <span className=\"before\" />\n    <div className=\"container\">\n      <span />\n      {children}\n      <span className=\"after\" />\n    </div>\n    <span className=\"after\" />\n  </nav>\n)\n\nexport const NavBarBrand = ({ href, src }) => (\n  <ul className=\"nav-brand-ul mr-auto\">\n    <Link className=\"a-navbar-brand\" to={href}>\n      <li className=\"nav-logo-holder\">\n        <img className=\"nav-logo-img\" src={src} alt=\"\" />\n      </li>\n      <li className=\"nav-copy\">Swag Store</li>\n    </Link>\n  </ul>\n)\n\nexport const NavItem = ({ link, title, icon, badge }) => (\n  <li className=\"nav-item\">\n    <NavLink\n      exact\n      className=\"link nav-link base\"\n      activeStyle={{ fontWeight: 'bold' }}\n      to={link}\n    >\n      {icon && <i className={icon} style={{ marginRight: '5px' }} />}\n      {title}\n      {badge > 0 && <span className=\"badge badge-notify\">{badge}</span>}\n    </NavLink>\n  </li>\n)\n\nexport const NavBarNav = ({ children }) => (\n  <div className=\"collapse navbar-collapse\" id=\"navbarTargetContent\">\n    <ul className=\"nav navbar-nav ml-auto\">{children}</ul>\n  </div>\n)\n\nexport const NavBarSearch = () => (\n  <form className=\"form-inline my-2 my-lg-0 ml-auto\">\n    <input className=\"form-control mr-sm-2\" type=\"text\" placeholder=\"Search\" />\n    <button className=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">\n      Search\n    </button>\n  </form>\n)\n\nexport const NavBarToggler = () => (\n  <button\n    className=\"navbar-toggler\"\n    type=\"button\"\n    data-toggle=\"collapse\"\n    data-target=\"#navbarTargetContent\"\n    aria-controls=\"navbarTargetContent\"\n    aria-expanded=\"false\"\n    aria-label=\"Toggle navigation\"\n  >\n    <span className=\"navbar-toggler-icon\" />\n  </button>\n)\n","import React from 'react'\nimport './SideMenu.css'\nimport { NavLink } from 'react-router-dom'\n\nexport const SideMenu = ({ items }) => (\n  <div className=\"left navbar-dark bg-dark\">\n    {items.map(item => {\n      return <SideMenuItem key={item.title} {...item} />\n    })}\n  </div>\n)\n\nexport const SideMenuItem = ({ link, title, icon }) => (\n  <NavLink\n    className=\"item nav-link nav-item\"\n    activeStyle={{ fontWeight: 'bold', color: '#0056b3' }}\n    to={link}\n  >\n    <i className={`icon ${icon}`} />\n    {title}\n  </NavLink>\n)\n","import React from 'react'\nimport { Redirect, Route } from 'react-router-dom'\n\nconst ProtectedRoute = ({ component: Component, stitchClient, ...rest }) => (\n  <Route\n    {...rest}\n    render={routeProps =>\n      stitchClient.auth.isLoggedIn ? (\n        <Component stitchClient={stitchClient} {...routeProps} {...rest} />\n      ) : (\n        <Redirect\n          to={{ pathname: '/login', state: { from: routeProps.location } }}\n        />\n      )\n    }\n  />\n)\n\nexport default ProtectedRoute\n","export const USDFormatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  minimumFractionDigits: 2\n})\n\nexport const DateFormatter = new Intl.DateTimeFormat('en-US', { \n  year: 'numeric', \n  month: 'long', \n  day: '2-digit' \n})\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { USDFormatter } from '../helpers'\n\nconst ProductDeck = ({ products, handleAddToCart }) => {\n  return (\n    <div className={'card-deck'}>\n      {products.map((product, i) => {\n        let elms = [\n          <ProductCard\n            key={product.id}\n            product={product}\n            handleAddToCart={handleAddToCart}\n          />\n        ]\n        if ((i + 1) % 2 === 0) {\n          elms.push(\n            <div\n              key={`2-spacer-${i + 1}`}\n              className=\"w-100 d-none d-sm-block d-md-none\"\n            />\n          )\n        }\n        if ((i + 1) % 3 === 0) {\n          elms.push(\n            <div\n              key={`3-spacer-${i + 1}`}\n              className=\"w-100 d-none d-md-block d-lg-none\"\n            />\n          )\n        }\n        if ((i + 1) % 4 === 0) {\n          elms.push(\n            <div\n              key={`4-spacer-${i + 1}`}\n              className=\"w-100 d-none d-lg-block d-xl-none\"\n            />\n          )\n        }\n        if ((i + 1) % 5 === 0) {\n          elms.push(\n            <div\n              key={`5-spacer-${i + 1}`}\n              className=\"w-100 d-none d-xl-block\"\n            />\n          )\n        }\n        return elms\n      })}\n    </div>\n  )\n}\n\nconst ProductCard = ({ product, handleAddToCart }) => {\n  return (\n    <div className=\"card mb-4\" style={{ maxWidth: '15rem' }}>\n      <img\n        className=\"card-img-top img-fluid\"\n        src={product.image.large}\n        alt={product.name}\n      />\n      <div className=\"card-body\">\n        <h4 className=\"card-title\">\n          <Link to={`/products/${product.id}`}>{product.name}</Link>\n        </h4>\n        <p className={'card-text'}>\n          <small>{product.overview}</small>\n        </p>\n      </div>\n      {product.price && (\n        <div className=\"card-footer\">\n          <p className={'card-text'}>\n            <small className={'text-muted'}>\n              {USDFormatter.format(product.price)}\n            </small>\n          </p>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport { ProductDeck, ProductCard }\n","import React, { Component } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport { ProductDeck } from '../components/Products'\nimport { GoogleRedirectCredential } from 'mongodb-stitch-browser-sdk'\n\nexport const Home = ({ personalized_recs }) => (\n  <div className=\"container page\">\n    <div className=\"row\">\n      <div className=\"img\">\n        <img className=\"img-fluid\" src=\"/images/swag.jpg\" alt=\"\" />\n      </div>\n    </div>\n    {personalized_recs.length > 0 && (\n      <div className=\"row\" style={{ marginTop: '10px' }}>\n        <div className=\"col col-md-12\">\n          <h3>Recommended for you</h3>\n          <ProductDeck products={personalized_recs} />\n        </div>\n      </div>\n    )}\n  </div>\n)\n\nexport class Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { redirectToReferrer: false }\n  }\n\n  async componentDidMount() {\n    if(this.props.stitchClient.auth.hasRedirectResult()){\n      await this.props.stitchClient.auth.handleRedirectResult().catch(console.error)\n      console.log('processed redirect result')\n    }\n    if (this.props.stitchClient.auth.isLoggedIn) {\n      this.setState({ redirectToReferrer: true })\n    }\n  }\n\n  render() {\n    const { from } = this.props.location.state || { from: { pathname: '/' } }\n    const { redirectToReferrer } = this.state\n    let authOpts = {}\n\n    if (from.pathname === '/cart') {\n      authOpts.redirectUrl = `${window.location.protocol}//${\n        window.location.host\n      }${from.pathname}`\n    }\n\n    if (redirectToReferrer) {\n      return <Redirect to={from} />\n    }\n\n    return (\n      <div className=\"container Login\">\n        <div className=\"row\">\n          <div className=\"card mx-auto\">\n            <div className=\"card-header\">\n              <h4>Login</h4>\n            </div>\n            <div className=\"card-body\">\n              <p className=\"card-text\">Please login to continue.</p>\n              <div\n                onClick={() => {\n                  const credential = new GoogleRedirectCredential()\n                  this.props.stitchClient.auth.loginWithRedirect(credential)\n                }}\n                className=\"signin-button\"\n              >\n                <svg\n                  version=\"1.1\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"18px\"\n                  height=\"18px\"\n                  viewBox=\"0 0 48 48\"\n                >\n                  <g>\n                    <path\n                      fill=\"#EA4335\"\n                      d=\"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z\"\n                    />\n                    <path\n                      fill=\"#4285F4\"\n                      d=\"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z\"\n                    />\n                    <path\n                      fill=\"#FBBC05\"\n                      d=\"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z\"\n                    />\n                    <path\n                      fill=\"#34A853\"\n                      d=\"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z\"\n                    />\n                    <path fill=\"none\" d=\"M0 0h48v48H0z\" />\n                  </g>\n                </svg>\n                <span className=\"signin-button-text\">Sign in with Google</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { USDFormatter } from '../helpers'\n\nconst Cart = ({  cart, handleUpdateCartItem, handleCheckout, history }) => {\n  const products = cart.products\n  return (\n    <div className=\"container page\">\n      <h2>Cart</h2>\n      <div className=\"card\">\n        <div className=\"card-body\">\n          {products.length > 0 && (\n            <div className=\"container\">\n              <div className=\"row\">\n                <div className=\"col-2 col-md-2 d-none d-sm-block\" />\n                <div className=\"col-6 col-md-6 d-none d-sm-block\">\n                  <strong>Name</strong>\n                </div>\n                <div className=\"col-2 col-md-2 d-none d-sm-block\">\n                  <strong>Quantity</strong>\n                </div>\n                <div className=\"col-1 col-md-1 d-none d-sm-block\">\n                  <strong>Price</strong>\n                </div>\n                <div className=\"col-1 col-md-1 d-none d-sm-block\" />\n              </div>\n              {products.map(product => (\n                <CartItem\n                  key={product.id}\n                  product={product}\n                  handleUpdateCartItem={handleUpdateCartItem}\n                />\n              ))}\n            </div>\n          )}\n          {products.length === 0 && (\n            <div className=\"alert alert-info\">Cart is empty</div>\n          )}\n          <div className=\"cart__total\">\n            <strong>Total:</strong> {USDFormatter.format(cart.totalPrice)}\n          </div>\n          {products.length > 0 && (\n            <div>\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => {\n                  //handleCheckout(product.id)\n                  handleCheckout()\n                  history.push('/profile')\n                }}\n              >\n                Check Out\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst CartItem = ({ product, handleUpdateCartItem }) => (\n  <div className=\"row\">\n    <div className=\"col-md-2 col-6\">\n      <img src={product.image.thumb} alt={product.name} />\n    </div>\n    <div className=\"col-md-6 col-6\">\n      <Link to={`/products/${product.id}`}>{product.name}</Link>\n    </div>\n    <div className=\"col-md-2 col-4\">\n      <input\n        type=\"number\"\n        value={product.quantity}\n        className=\"form-control col-md-5\"\n        onChange={e =>\n          handleUpdateCartItem(product.id, parseInt(e.target.value, 10))\n        }\n      />\n    </div>\n    <div className=\"col-md-1 col-4\">{USDFormatter.format(product.price)}</div>\n    <div className=\"col-md-1 col-4\">\n      <button\n        className=\"btn btn-danger btn-sm\"\n        onClick={() => handleUpdateCartItem(product.id)}\n      >\n        X\n      </button>\n    </div>\n  </div>\n)\n\nexport default Cart\n","import React, { Component } from 'react'\nimport { ProductDeck } from '../components/Products'\n\nclass ProductsPage extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      products: []\n    }\n  }\n\n  getProducts() {\n    this.props.db\n      .collection('products')\n      .find({ category: this.props.match.params.category })\n      .toArray()\n      .then(products => {\n        this.setState({ products })\n      })\n      .catch(err => {\n        // alert and error service needed\n        console.log(err)\n      })\n  }\n\n  componentDidMount() {\n    this.getProducts()\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.match.params.category !== prevProps.match.params.category) {\n      this.getProducts()\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container page\">\n        <div className=\"row\">\n          <h2>{this.props.match.params.category}</h2>\n        </div>\n        <div className=\"row\">\n          <ProductDeck\n            products={this.state.products}\n            handleAddToCart={this.props.handleAddToCart}\n          />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProductsPage\n","import React, { Component } from 'react'\nimport { USDFormatter } from '../helpers'\n\nclass ProductPage extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      product: {\n        image: {}\n      },\n      quantity: 1,\n      notifying: false\n    }\n  }\n\n  getProduct() {\n    this.props.db\n      .collection('products')\n      .findOne({ id: this.props.match.params.id })\n      .then(product => {\n        this.setState({\n          product,\n          notifying: Boolean(\n            this.props.notify.find(element => {\n              return element.id === this.props.match.params.id\n            })\n          )\n        })\n        this.props.handleBrowsedProduct(product)\n      })\n      .catch(err => {\n        // should show alert in browser while sending the error to a service\n        console.log(err)\n      })\n  }\n\n  componentDidMount() {\n    this.getProduct()\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (this.props.match.params.id !== prevProps.match.params.id) {\n      this.getProduct()\n    }\n    if (this.props.notify !== prevProps.notify) {\n      this.setState({\n        notifying: Boolean(\n          this.props.notify.find(element => {\n            return element.id === this.props.match.params.id\n          })\n        )\n      })\n    }\n  }\n\n  // this is a big render, which can get updated on notify (can this cause perf issues?)\n  // possibly make smaller render with notify being pushed down to stock (or lifting context and creating component\n  // which use the context as need for redrawing)\n  render() {\n    const {\n      _id,\n      name,\n      id,\n      price,\n      image,\n      overview,\n      inventory,\n      ...rest\n    } = this.state.product\n    const isInStock = inventory > 0\n    return (\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col col-md-10\">\n            <h3>{name}</h3>\n          </div>\n          <div className=\"col col-md-2 text-right\">\n            <h3>{USDFormatter.format(price)}</h3>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col col-md-6 text-center\">\n            <img src={image.large} height=\"300\" alt={name} />\n          </div>\n          <div className=\"col col-md-6\">\n            <div className=\"row\">\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">Overview</h5>\n                  <p className=\"card-text\">{overview}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"row\" style={{ marginTop: '10px' }}>\n              <div className=\"card\">\n                <div className=\"card-body\">\n                  <h5 className=\"card-title\">Add to Cart</h5>\n                  {isInStock ? (\n                    [\n                      <p key=\"txtInStock\" className=\"card-text text-success\">\n                        In Stock : {inventory}\n                      </p>,\n                      <form key=\"formAddToCart\" className=\"form-inline\">\n                        <label htmlFor=\"txtQuantity\">Quantity: </label>\n                        <input\n                          id=\"txtQuantity\"\n                          type=\"number\"\n                          className=\"form-control col-2\"\n                          value={this.state.quantity}\n                          onChange={e => {\n                            this.setState({ quantity: e.target.value })\n                          }}\n                        />\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-outline-primary btn-sm\"\n                          onClick={() => {\n                            this.props.handleAddToCart(\n                              id,\n                              parseInt(this.state.quantity, 10)\n                            )\n                          }}\n                        >\n                          <i className={'fa fa-plus'} /> Add to cart\n                        </button>\n                      </form>\n                    ]\n                  ) : (\n                    <p className=\"card-text text-danger\">Out of Stock</p>\n                  )}\n                  {!isInStock &&\n                    this.state.notifying && (\n                      <p className=\"card-text\">\n                        We'll Notify you when it's back in stock.\n                      </p>\n                    )}\n                  {!isInStock &&\n                    !this.state.notifying && (\n                      <form className=\"form-inline\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-outline-primary btn-sm\"\n                          onClick={() => {\n                            this.props.handleProductNotification(id)\n                          }}\n                        >\n                          Notify When in Stock\n                        </button>\n                      </form>\n                    )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\" style={{ marginTop: '10px' }}>\n          <div className=\"col col-md-12\">\n            <div className=\"card\">\n              <div className=\"card-header\">Additional Information</div>\n              <div className=\"card-body\">\n                {rest && (\n                  <table className=\"table table-striped\">\n                    <tbody>\n                      {Object.keys(rest).map(key => {\n                        return (\n                          <tr key={key}>\n                            <td>{key}</td>\n                            <td>{rest[key].toString()}</td>\n                          </tr>\n                        )\n                      })}\n                    </tbody>\n                  </table>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ProductPage\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport { USDFormatter, DateFormatter } from '../helpers'\nimport '../components/Profile.css'\n\nconst OrderItem = ({ product }) => (\n  <div className=\"row\">\n    <div className=\"col-md-6 col-6\" />\n    <div className=\"col-md-2 col-2\">\n      <strong>Qty</strong>\n    </div>\n    <div className=\"col-md-2 col-2\">\n      <strong>Price</strong>\n    </div>\n    <div className=\"col-md-2 col-2\">\n      <strong>Total</strong>\n    </div>\n    <div className=\"col-md-6 col-6\">\n      <img src={product.image.thumb} alt={product.name} />\n      <br />\n\n      <Link to={`/products/${product.id}`}>\n        <small>{product.name}</small>\n      </Link>\n    </div>\n    <div className=\"col-md-2 col-2\">{product.quantity}</div>\n    <div className=\"col-md-2 col-2\">{USDFormatter.format(product.price)} </div>\n    <div className=\"col-md-2 col-2\">\n      {USDFormatter.format(product.price * product.quantity)}{' '}\n    </div>\n  </div>\n)\n\nconst OrderTotal = ({ products }) => (\n  <div className=\"col-12 col-md-12 order-total\">\n    <div className=\"text-right\">\n      <strong>Order Total:</strong>&nbsp;\n      {USDFormatter.format(\n        products.reduce((sum, i) => (sum += i.quantity * i.price), 0)\n      )}\n    </div>\n    <hr />\n  </div>\n)\n\n/*\n * what was the plan with state here? does not appear to be needed right now\n */\nexport default class ProfilePage extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n  ordersTotal(orders) {}\n  render() {\n    const userInfo = this.props.userInfo\n    userInfo.orders = userInfo.orders.sort((a, b) => {\n      return b.date_created - a.date_created\n    })\n    return (\n      <div className=\"container page\">\n        <br />\n        <h2>Profile</h2>\n        <br />\n        <div className=\"col-xs-12 col-sm-9\">\n          <h4 className=\"blue\">\n            <span className=\"middle\">\n              {userInfo.firstname} {userInfo.lastname}\n            </span>\n          </h4>\n          <div className=\"profile-user-info\">\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> Email </div>\n              <div className=\"profile-info-value\">\n                <span>{userInfo.email}</span>\n              </div>\n          </div>\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> Telephone </div>\n              <div className=\"profile-info-value\">\n                <span>{userInfo.phone}</span>\n              </div>\n            </div>\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> Shipping Address </div>\n              <div className=\"profile-info-value\">\n                <span>{userInfo.address}</span>\n              </div>\n            </div>\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> City </div>\n\n              <div className=\"profile-info-value\">\n                <span>{userInfo.city}</span>\n              </div>\n            </div>\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> State, Zip </div>\n\n              <div className=\"profile-info-value\">\n                <span>\n                  {userInfo.state} {userInfo.zip}\n                </span>\n              </div>\n            </div>\n            {/*\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> Joined </div>\n              <div className=\"profile-info-value\">\n                <span />\n              </div>\n            </div>\n\n            <div className=\"profile-info-row\">\n              <div className=\"profile-info-name\"> Last Online </div>\n\n              <div className=\"profile-info-value\">\n                <span>3 hours ago</span>\n              </div>\n            </div>\n*/}\n          </div>\n          <div className=\"hr hr-8 dotted\" />\n        </div>\n        <br />\n        <h2>My Orders</h2>\n        <br />\n        <div className=\"card\">\n          <div className=\"card-body\">\n            {userInfo.orders.length > 0 && (\n              <div className=\"container\">\n                <div className=\"row\">\n                  <div className=\"col-2 col-md-2 d-none d-sm-block\">\n                    <strong>## Order Date</strong>\n                  </div>\n                  <div className=\"col-2 col-md-2 d-none d-sm-block\">\n                    <strong>Status</strong>\n                  </div>\n                  <div className=\"col-6 col-md-6 d-none d-sm-block\">\n                    <strong>Products</strong>\n                  </div>\n                </div>\n                {userInfo.orders.map((order, i) => {\n                  return (\n                    <div className=\"row\" key={order.id.toString()}>\n                      <div className=\"col-2 col-md-2 d-none d-sm-block\">\n                        {i + 1}&nbsp;{DateFormatter.format(order.date_created)}\n                      </div>\n                      <div className=\"col-2 col-md-2 d-none d-sm-block\">\n                        {order.status}\n                      </div>\n                      <div className=\"col-8 col-md-8 d-none d-sm-block\">\n                        {order.products.map(product => (\n                          <OrderItem key={product.id} product={product} />\n                        ))}\n                      </div>\n\n                      <div className=\"row col-md-12\">\n                        <OrderTotal\n                          products={order.products}\n                          key={order.id.toString()}\n                        />\n                      </div>\n                    </div>\n                  )\n                })}\n              </div>\n            )}\n            {userInfo.orders.length === 0 && (\n              <div className=\"alert alert-info\">No orders</div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","/*\n * App.js\n * lift up state and move out of app.js\n * currently everything is pushed down as props and will get more complicated as\n * more features are added.\n *\n * menuItems should be moved to the database and loaded dynamically\n *\n * \n */\nimport React, { Component } from 'react'\nimport {\n  NavbarTop,\n  NavBarBrand,\n  NavBarNav,\n  NavItem,\n  NavBarToggler\n} from './components/Navigation'\nimport { SideMenu } from './components/SideMenu'\nimport { Switch, Route } from 'react-router-dom'\nimport ProtectedRoute from './components/ProtectedRoute'\nimport { Home, Login } from './content/Pages'\nimport Cart from './content/Cart'\nimport ProductsPage from './content/Products'\nimport ProductPage from './content/Product'\nimport ProfilePage from './content/Profile'\n// TODO: Cleanup footer import Footer from './components/Footer';\nimport './App.css'\n\nconst menuItems = [\n  {\n    link: '/products/category/apparel',\n    title: 'apparel',\n    icon: 'fas fa-tshirt'\n  },\n  {\n    link: '/products/category/bags',\n    title: 'bags',\n    icon: 'fas fa-shopping-bag'\n  },\n  {\n    link: '/products/category/kids',\n    title: 'kids',\n    icon: 'fas fa-child'\n  },\n  {\n    link: '/products/category/travel',\n    title: 'travel',\n    icon: 'fas fa-globe'\n  },\n  {\n    link: '/products/category/accessories',\n    title: 'accessories',\n    icon: 'fa fa-suitcase'\n  },\n  {\n    link: '/products/category/vintage',\n    title: 'vintage',\n    icon: 'fab fa-shirtsinbulk'\n  }\n]\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      authData: {},\n      cart: {\n        products: [],\n        totalQuantity: 0,\n        totalPrice: 0\n      },\n      orders: [],\n      notify: [],\n      browsed_products: [],\n      personalized_recs: []\n    }\n\n    this.handleAddToCart = this.handleAddToCart.bind(this)\n    this.handleUpdateCartItem = this.handleUpdateCartItem.bind(this)\n    this.handleCheckout = this.handleCheckout.bind(this)\n    this.handleProductNotification = this.handleProductNotification.bind(this)\n    this.handleBrowsedProduct = this.handleBrowsedProduct.bind(this)\n  }\n\n  componentDidMount() {\n    if (this.props.stitchClient.auth.isLoggedIn) {\n      this.props.stitchClient.callFunction('getUserInfo').then(userInfo => {\n        this.setState(userInfo)\n      })\n    }\n  }\n\n  handleAddToCart(productId, quantity = 1) {\n    this.props.stitchClient.callFunction('addToCart', [productId, quantity])\n      .then(({ cart }) => {\n        this.setState({ cart })\n      })\n  }\n\n  handleUpdateCartItem(productId, quantity = 0) {\n    this.props.stitchClient.callFunction('updateCartItem', [productId, quantity])\n      .then(({ cart }) => {\n        this.setState({ cart })\n      })\n  }\n\n  handleCheckout(productId) {\n    this.props.stitchClient.callFunction('checkout',[productId])\n      .then(({ cart, orders }) => {\n        this.setState({ cart, orders })\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  handleProductNotification(productId) {\n    this.props.stitchClient.callFunction('registerProductNotification', [productId])\n      .then(({ notify }) => {\n        this.setState({ notify })\n      })\n  }\n\n  handleBrowsedProduct({ id, name }) {\n    const users = this.props.db.collection('users')\n    users\n      .updateOne(\n        { user_id: this.props.stitchClient.auth.user.id },\n        {\n          $addToSet: {\n            browsed_products: { id, name, date_visited: new Date() }\n          }\n        }\n      )\n      .then(() => {\n        return users\n          .findOne(\n            { user_id: this.props.stitchClient.auth.user.id },\n            { _id: 0, browsed_products: 1 }\n          )\n          .then(({ browsed_products }) => {\n            this.setState({ browsed_products })\n          })\n      })\n  }\n\n  render(props) {\n    const isAuthenticated = this.props.stitchClient.auth.isLoggedIn\n    return (\n      <div>\n        <NavbarTop>\n          <NavBarBrand href=\"/\" src=\"/images/logo.png\" />\n          <NavBarToggler />\n          {isAuthenticated && (\n            <NavBarNav>\n              <li key=\"user-welcome\" className=\"nav-item\">\n                <span className=\"navbar-text link\">\n                  Hello, {this.state.authData.first_name}\n                </span>\n              </li>\n              <NavItem key=\"home\" link=\"/\" title=\"home\" />\n              <NavItem key=\"profile\" link=\"/profile\" title=\"profile\" />\n              <NavItem\n                key=\"cart\"\n                link=\"/cart\"\n                title=\"cart\"\n                icon=\"fa fa-shopping-cart\"\n                badge={this.state.cart.totalQuantity}\n              />\n              <li key=\"logout\" className=\"nav-item\">\n                <button\n                  type=\"button\"\n                  className=\"btn btn-link link nav-link base\"\n                  onClick={() =>\n                    this.props.stitchClient.auth.logout()\n                      .then(() => window.location.reload())\n                  }\n                >\n                  logout\n                </button>\n              </li>\n            </NavBarNav>\n          )}\n        </NavbarTop>\n        {isAuthenticated && <SideMenu items={menuItems} />}\n        <div className=\"main\">\n          <Switch>\n            <ProtectedRoute\n              exact\n              path=\"/\"\n              component={Home}\n              {...this.props}\n              personalized_recs={this.state.personalized_recs}\n            />\n            <Route\n              exact\n              path=\"/login\"\n              render={routeProps => <Login {...this.props} {...routeProps} />}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/cart\"\n              component={Cart}\n              {...this.props}\n              cart={this.state.cart}\n              handleUpdateCartItem={this.handleUpdateCartItem}\n              handleCheckout={this.handleCheckout}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/profile\"\n              component={ProfilePage}\n              {...this.props}\n              userInfo={this.state}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/products/category/:category\"\n              component={ProductsPage}\n              {...this.props}\n              handleAddToCart={this.handleAddToCart}\n            />\n            <ProtectedRoute\n              exact\n              path=\"/products/:id\"\n              component={ProductPage}\n              {...this.props}\n              handleAddToCart={this.handleAddToCart}\n              handleProductNotification={this.handleProductNotification}\n              handleBrowsedProduct={this.handleBrowsedProduct}\n              notify={this.state.notify}\n            />\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Stitch, RemoteMongoClient } from 'mongodb-stitch-browser-sdk'\n\nconst appId = 'swagstore-kdsnu'\nconst stitchClient = Stitch.initializeDefaultAppClient(appId)\nconst mongodb = stitchClient.getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas')\nconst db = mongodb.db('swagstore')\nconst props = {stitchClient, db}\n\nReactDOM.render(\n    <BrowserRouter>\n      <App {...props} />\n    </BrowserRouter>,\n    document.getElementById('root')\n)\nregisterServiceWorker()\n"],"sourceRoot":""}